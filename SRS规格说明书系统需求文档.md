# 软件需求规格说明书 (SRS) & 系统架构设计

**版本号**: 1.0

**日期**: 2025-11-23

**状态**: 初稿

## 1. 引言 (Introduction)

### 1.1 编写目的

本文档旨在明确“AI赋能孤独症家庭支持系统”的功能需求、非功能需求及系统架构，为开发团队、测试团队及项目干系人提供统一的执行标准。

### 1.2 项目背景

基于家校社协同育人机制，利用人工智能（AI）技术，解决孤独症儿童康复过程中家长专业知识匮乏、家校沟通不畅、社会支持资源分散等痛点。系统将构建一个微信小程序（便捷端）与Web/App平台（管理与分析端）相结合的闭环生态。

### 1.3 核心用户角色

1. **家长 (Home)**: 记录日常行为、接收家庭干预任务、咨询AI助手。
2. **特教老师/康复师 (School)**: 制定IEP（个别化教育计划）、查看家庭数据、反馈教学进度。
3. **专家/志愿者 (Community)**: 提供远程指导、审核AI评估结果、组织社区活动。
4. **系统管理员**: 用户管理、数据监控、模型训练维护。

## 2. 系统架构设计 (System Architecture)

本系统采用微服务架构，以确保高可用性和可扩展性。AI服务层作为核心驱动力，赋能各个业务模块。

### 2.1 技术架构图 (Mermaid)

```
graph TD
    %% 客户端层
    subgraph Client_Layer [客户端层]
        MP[微信小程序<br/>(家长/老师日常端)]
        WEB[Web管理平台<br/>(专家/机构/数据大屏)]
        APP[原生APP<br/>(可选，深度功能)]
    end

    %% 网关层
    subgraph Gateway_Layer [API网关层]
        Gateway[API Gateway<br/>(鉴权/限流/路由)]
    end

    %% 业务服务层
    subgraph Business_Services [业务微服务]
        UserSvc[用户中心<br/>(身份/权限)]
        IEPSvc[IEP管理服务<br/>(计划/排课)]
        DataSvc[行为数据服务<br/>(日志/量表)]
        CommSvc[协同沟通服务<br/>(消息/社区)]
        ResourceSvc[资源与课程服务]
    end

    %% AI引擎层
    subgraph AI_Core [AI能力引擎]
        LLM[大模型服务<br/>(RAG知识库/智能问答)]
        CV[计算机视觉<br/>(刻板行为识别/情绪分析)]
        Recommend[推荐算法<br/>(个性化干预方案)]
        Predict[预测模型<br/>(康复趋势分析)]
    end

    %% 数据存储层
    subgraph Data_Layer [数据持久层]
        MySQL[(关系型数据库<br/>核心业务数据)]
        MongoDB[(文档数据库<br/>行为日志/非结构化数据)]
        VectorDB[(向量数据库<br/>知识库嵌入)]
        Redis[(缓存)]
    end

    %% 数据流向
    MP --> Gateway
    WEB --> Gateway
    APP --> Gateway
    Gateway --> UserSvc
    Gateway --> IEPSvc
    Gateway --> DataSvc
    Gateway --> CommSvc
    Gateway --> ResourceSvc

    %% AI交互
    IEPSvc <--> Recommend
    DataSvc <--> CV
    DataSvc <--> Predict
    CommSvc <--> LLM

    %% 数据库交互
    Business_Services --> MySQL
    Business_Services --> MongoDB
    AI_Core --> VectorDB
    AI_Core --> MongoDB
```

## 3. 功能需求说明 (Functional Requirements)

### 3.1 微信小程序端 (侧重便捷性与高频交互)

#### 3.1.1 首页工作台

- **今日任务**: 基于IEP自动生成的每日家庭干预任务清单（如：目光对视训练 10分钟）。
- **一键打卡**: 支持文字、语音、短视频上传打卡，AI自动解析视频内容并归档。
- **情绪晴雨表**: 快速记录儿童今日情绪状态。

#### 3.1.2 AI智能助手 ("AI育儿顾问")

- **智能问答**: 基于RAG（检索增强生成）技术，家长可提问（如“孩子在超市尖叫怎么办？”），AI基于专业知识库回答。
- **筛查自测**: 内置M-CHAT-R等量表，家长完成问卷，AI生成初步风险评估报告。

#### 3.1.3 家校互通

- **联系册**: 电子化的家校联系本，老师发布在校表现，家长同步在家表现。
- **数据同步**: 老师可以看到家长上传的家庭训练视频，进行远程点评。

#### 3.1.4 社区互助

- **家长圈**: 匿名交流社区，具备AI内容审核功能。
- **志愿活动**: 查看周边的融合活动信息并报名。

### 3.2 Web/APP端 (侧重专业分析与管理)

#### 3.2.1 IEP（个别化教育计划）生成系统

- **AI辅助制定**: 结合评估数据和历史案例，AI预生成IEP草案（长期目标/短期目标）。
- **专家修订**: 特教老师/专家对AI草案进行调整和确认。
- **进度追踪**: 可视化图表展示IEP目标的达成率。

#### 3.2.2 多模态行为分析系统

- **视频分析**: 上传长视频，AI识别刻板行为频率、社交响应次数、情绪爆发点。
- **语音分析**: 分析儿童发音清晰度、词汇量增长趋势。

#### 3.2.3 知识库管理 (RAG后台)

- **文档上传**: 管理员上传最新的科研论文、康复指南。
- **向量化处理**: 系统自动解析文档并更新AI助手的知识库。

## 4. AI 核心功能详细描述 (AI Core Features)

| 功能模块           | AI 技术应用                       | 业务价值                                     |
| ------------------ | --------------------------------- | -------------------------------------------- |
| **智能IEP生成**    | NLP (自然语言处理) + 推荐算法     | 将耗时的IEP编写时间缩短80%，确保方案科学性。 |
| **行为视频分析**   | CV (姿态识别/面部表情识别)        | 客观记录刻板行为（如拍手、摇晃），辅助诊断。 |
| **7x24h 智能咨询** | LLM (大语言模型) + 垂直领域知识库 | 缓解家长焦虑，提供即时的应对策略指导。       |
| **发展趋势预测**   | 时序数据预测 (LSTM/Transformer)   | 基于历史数据预测康复瓶颈，提前调整干预策略。 |

## 5. 非功能需求 (Non-Functional Requirements)

### 5.1 数据隐私与安全 (Critical)

- **脱敏处理**: 儿童姓名、影像资料在存储和AI训练时必须进行严格脱敏或加密。
- **权限控制**: 采用RBAC（基于角色的访问控制），家长只能看自家孩子，老师只能看负责班级。
- **合规性**: 符合《个人信息保护法》及医疗数据相关安全标准。

### 5.2 性能要求

- **小程序加载**: 首页加载时间 < 1.5秒。
- **AI响应**: 文字问答延迟 < 3秒；短视频分析报告生成 < 2分钟。

### 5.3 易用性

- **无障碍设计**: 考虑到部分家长可能存在焦虑或老年人带娃，界面需极简、字号可调，操作流程不超过3步。

## 6. 技术栈推荐 (Tech Stack)

- **前端**:
  - 小程序: uni-app (Vue3) 或 微信原生开发
  - Web: React.js 或 Vue.js 3 + Ant Design Pro
  - 图表库: ECharts (用于展示康复数据)
- **后端**:
  - 语言: Python (FastAPI/Django - 适合AI集成) 或 Java (Spring Boot)
  - 数据库: PostgreSQL (主库), MongoDB (日志), Milvus/Pinecone (向量库)
- **AI基础设施**:
  - 大模型: 接入 DeepSeek / 文心一言 / 通义千问 API (国内合规)
  - 框架: LangChain (构建RAG应用), PyTorch (CV模型部署)

## 7. 开发里程碑规划 (Milestones)

1. **阶段一 (MVP)**: 完成小程序基础打卡、问卷筛查、AI文字问答功能。 (周期: 1.5个月)
2. **阶段二 (协同版)**: 上线Web端，打通家校数据流，实现人工IEP管理。 (周期: 1.5个月)
3. **阶段三 (AI增强版)**: 部署视频行为分析模型，上线AI辅助IEP生成。 (周期: 2个月)